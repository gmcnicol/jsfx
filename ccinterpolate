desc:MIDI CC Interpolator

// Initialize variables
slider1:0<0,127,1>Input CC value
slider2:0<0,127,1>Start Value
slider3:127<0,127,1>End Value
slider4:1<1,16,1>MIDI Channel Out
slider5:1<1,16,1>CC Number

in_pin:none
out_pin:none

@init
function interpolate(cc, startValue, endValue) (
  startValue + (cc * (endValue - startValue)) / 127;
);
var previousCCValue = undefined;

@slider
currentCCValue = slider1;
startValue = slider2;
endValue = slider3;
midiChannelOut = slider4;
ccNumber = slider5;

@block
if (currentCCValue != previousCCValue) {
  var interpolatedValue = interpolate(currentCCValue, startValue, endValue);
  midisend(0, 0xB0 | midiChannelOut, ccNumber, interpolatedValue);
  previousCCValue = currentCCValue;
}

@sample
// Per-sample processing code here

@gfx
// GUI code here
